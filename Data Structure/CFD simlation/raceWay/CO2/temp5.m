lightIntensity = [ 0, 250, 375, 500, 625, 750, 1000, 1250, 1500, 2000 ]; % O2 evuolution rate umol/mg Chla /h  
growthRate =[0, 210, 290, 350, 400, 420, 450, 460, 460, 460 ]; 
PHData = [ 0, 1, 2, 3, 4, 4.500, 5, 5.500, 6, 6.370, 6.500, 7, 7.500, 7.600, 8, 8.380, 8.500, 9, 9.050, 9.500, 10, 10.30, 10.50, 11, 11.50, 12, 13, 14 ]; 
HCO3mData = [ 0, 0, 0, 0, 0, 0.02000, 0.05000, 0.1350, 0.3000, 0.5000, 0.6000, 0.8100,  0.9300, 0.9500, 0.9700, 0.9760, 0.9700, 0.9630, 0.9620, 0.8900, 0.6700,  0.5000, 0.4000, 0.1800, 0.05000, 0, 0, 0]; 
CO2Data = [ 1, 1, 1, 1, 1, 0.9800, 0.9500, 0.8650, 0.7000, 0.5000, 0.4000, 0.1900,  0.07000, 0.05000, 0.02000, 0.01200, 0.01000, 0.002000, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0 ]; 
CO32mData =  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01000, 0.01200, 0.02000, 	 0.03500, 0.03800, 0.1100, 0.3300, 0.5000, 0.6000, 0.8200, 0.9500, 1, 	 1, 1 ]; 
PHforEfficiency = [ 0, 6.500, 6.550, 6.600, 6.650, 6.700, 6.750, 6.800, 6.850, 6.900, 6.950, 7,  7.050, 7.100, 7.150, 7.200, 7.250, 7.300, 7.350, 7.400, 7.450, 7.500,  7.550, 7.600, 7.650, 7.700, 7.750, 7.800, 7.850, 7.900, 7.950, 8, 8.050,  8.100, 8.150, 8.200, 8.250, 8.300, 8.350, 8.400, 8.450, 8.500, 100]; 
Pefficiency = [ 0, 0, 1.25737682214811e-05, 3.99593527672633e-05, 0.000119296591353013,  0.000334575564412215, 0.000881489205918614, 0.00218170673761439,  0.00507262014324939, 0.0110796210298451, 0.0227339062539777,  0.0438207512339213, 0.0793491295891684, 0.134977416282970,  0.215693297066280, 0.323793989164730, 0.456622713472555,  0.604926811297858, 0.752843580387010, 0.880163316910750,  0.966670292007123, 0.997355701003582, 0.966670292007123,  0.880163316910750, 0.752843580387010, 0.604926811297858,  0.456622713472555, 0.323793989164730, 0.215693297066280,  0.134977416282970, 0.0793491295891684, 0.0438207512339213,  0.0227339062539774, 0.0110796210298451, 0.00507262014324939,  0.00218170673761443, 0.000881489205918614, 0.000334575564412209,  0.000119296591353013, 3.99593527672633e-05, 1.25737682214813e-05, 0, 0 ];  

PH=8;
HCO3m= interp1(PHData,HCO3mData,PH,'spline')
CO2=interp1(PHData,CO2Data,PH,'spline')
CO32m=interp1(PHData,CO32mData,PH,'spline')
rawData=[8	8.73	10	9.52	11	10.85	9	13.33
7.8	9.65	10	13.25	10.8	18.12	8.2	13.95
8	9.72	9.2	18.20	10.1	28.38	8.2	15.77
7.8	9.21	9.5	22.90	10.3	39.53	8.2	19.28
7.8	10.55	9.5	28.88	10.3	53.89	8.5	19.38
];
DataPH8=rawData(:,1:2);
DataPH10=rawData(:,3:4);
DataPH11=rawData(:,5:6);
DataPH9=rawData(:,7:8);
 
%% Convert TIC to mole concentration of CO2
for i=1:length(DataPH8)
    PH=DataPH8(i,1);
    DataPH8(i,2)=DataPH8(i,2)*interp1(PHData,CO2Data,PH,'spline')/12/1000. % convert mg/L of TIC to mol/L of CO2 
end

for i=1:length(DataPH9)
    PH=DataPH9(i,1);
    DataPH9(i,2)=DataPH9(i,2)*interp1(PHData,CO2Data,PH,'spline')/12/1000. % convert mg/L of TIC to mol/L of CO2 
end

for i=1:length(DataPH10)
    PH=DataPH10(i,1);
    DataPH10(i,2)=DataPH10(i,2)*interp1(PHData,CO2Data,PH,'spline')/12/1000. % convert mg/L of TIC to mol/L of CO2 
end
for i=1:length(DataPH11)
    PH=DataPH11(i,1);
    DataPH11(i,2)=DataPH11(i,2)*interp1(PHData,CO2Data,PH,'spline')/12/1000. % convert mg/L of TIC to mol/L of CO2 
end


%% calculate for mass transfer rate Constant
for i=2:length(DataPH8)
    MassTransferRateConstant=(DataPH8(i,2)-DataPH8(i-1,2))*60/24/60/60
    equilibriumConcentration = 10.55*0.02*0.001/12;% mol/L
    PH=DataPH8(i,1);
    DataPH8(i,2)=DataPH8(i,2)*interp1(PHData,CO2Data,PH,'spline')/12/1000. % convert mg/L of TIC to mol/L of CO2 
end

 equilibriumConcentration = 19.38*0.002*0.001/12;% mol/L


